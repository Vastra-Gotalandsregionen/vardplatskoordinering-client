<div class="header">

  <div class="header-top-bar">
    <div class="retain-contain">

      <mat-toolbar class="">
        <a routerLink="home" routerLinkActive="active">
          <img class="logo" src="/assets/images/vgr-logotyp-neg.png" alt="Logo VPL"/>
        </a>

        <div class="header-toolbar-spacer"></div>

        <div class="header-controls">

          <!--<span *ngIf="admin" class="header-control-item">
            <button *ngIf="getShowContentEdit()" mat-button (click)="setShowContentEdit(false)"
                    matTooltip="Dölj redigeringsläge" class="on"><mat-icon>edit</mat-icon></button>
            <button *ngIf="!getShowContentEdit()" mat-button (click)="setShowContentEdit(true)"
                    matTooltip="Visa redigeringsläge"><mat-icon>edit</mat-icon></button>
          </span>-->

          <!--<span *ngIf="admin" class="header-control-item">
            <button *ngIf="getShowDebug()" mat-button (click)="setShowDebug(false)" matTooltip="Dölj debug-läge"><mat-icon>visibility</mat-icon></button>
            <button *ngIf="!getShowDebug()" mat-button (click)="setShowDebug(true)" matTooltip="Visa debug-läge"><mat-icon>visibility_off</mat-icon></button>
          </span>-->

          <span *ngIf="getLoggedInUserId()" class="header-control-item">
            <span class="user-avatar" [style.background-image]="userAvatarBackgroundImageStyle()"></span>
          </span>

          <span *ngIf="getLoggedInDisplayName()" class="header-control-item" [mdePopoverTriggerFor]="userInfoPopover" mdePopoverTriggerOn="hover" >
            {{getLoggedInDisplayName()}}
          </span>

          <mde-popover class="user-info-popover" #userInfoPopover="mdePopover" [mdePopoverOverlapTrigger]="false" mdePopoverArrowColor="rgba(255, 255, 255, 1.0)">

              <app-layout-row>
                  <app-layout-column width=4><em>Förvaltning:</em></app-layout-column>
                  <app-layout-column width=8>{{managementName}}</app-layout-column>
              </app-layout-row>
              <app-layout-row>
                  <app-layout-column width=4><em>Områden:</em></app-layout-column>
                  <app-layout-column width=8>{{administrationsString}}</app-layout-column>
              </app-layout-row>
              <app-layout-row>
                  <app-layout-column width=4><em>Roller:</em></app-layout-column>
                  <app-layout-column width=8>{{roles}}</app-layout-column>
              </app-layout-row>
        
          </mde-popover>

          <span *ngIf="!isLoggedIn()" class="header-control-item">
            <button mat-button (click)="openLogin()">Logga in</button>
          </span>
          <span *ngIf="isLoggedIn()" class="header-control-item">
            <button mat-button (click)="logout()">Logga ut</button>
          </span>

        </div>
      </mat-toolbar>
    </div>
  </div>

  <div class="header-menu-bar">
    <div class="retain-contain">
      <mat-toolbar class="menu-bar">

        <mat-toolbar-row>
          <!--<mat-list>

            <mat-list-item>-->
          <span class="list-item">
              <a routerLink="/hem" routerLinkActive="active">
                <span class="nav-label">Hem</span>
              </a>
            </span>
          <!--</mat-list-item>

          <mat-list-item>-->
          <span class="list-item">
              <a routerLink="/koordinering" routerLinkActive="active">
                <span class="nav-label">Koordinering</span>
              </a>
          </span>

          <span class="list-item">
              <a routerLink="/vpl" routerLinkActive="active">
                <span class="nav-label">Vårdplatsläge</span>
              </a>
          </span>

          <span class="list-item" *ngIf="hasApplicationAdministrationPermission">
              <a routerLink="/administration" routerLinkActive="active">
                <span class="nav-label">Administration</span>
              </a>
          </span>

          <!--            </mat-list-item>-->

          <!--<mat-list-item>
            <a routerLink="apk" routerLinkActive="active" *ngIf="getLoggedInDisplayName()">
              <span class="nav-label">Arbetsplatskoder</span>
            </a>
          </mat-list-item>

          <mat-list-item>
            <a routerLink="admin" routerLinkActive="active" *ngIf="getLoggedInUserId()">
              <span class="nav-label">Administration</span>
            </a>
          </mat-list-item>

          <mat-list-item>
            <a routerLink="report" routerLinkActive="active" *ngIf="getLoggedInUserId()">
              <span class="nav-label">Rapporter</span>
            </a>
          </mat-list-item>-->
          <!--          </mat-list>-->
        </mat-toolbar-row>

      </mat-toolbar>
    </div>
  </div>

</div>